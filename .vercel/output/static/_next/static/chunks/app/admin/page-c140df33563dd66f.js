(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{321:(e,t,a)=>{Promise.resolve().then(a.bind(a,5163)),Promise.resolve().then(a.bind(a,3042)),Promise.resolve().then(a.bind(a,339))},5163:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var s=a(5155),n=a(2115),r=a(5646);let o={name:"",surname:"",phone:"",date:"",time:"",service:""};function l(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)}function i(e){let[t,a,s]=e.split("-").map(Number);return new Date(t,(null!=a?a:1)-1,null!=s?s:1)}function d(){let[e,t]=(0,n.useState)([]),[a,d]=(0,n.useState)({}),[c,u]=(0,n.useState)(!0),[m,p]=(0,n.useState)(null),[b,h]=(0,n.useState)("calendar"),[x,f]=(0,n.useState)(new Date(new Date().getFullYear(),new Date().getMonth(),1)),[g,y]=(0,n.useState)(l(new Date)),[v,j]=(0,n.useState)(o),[N,k]=(0,n.useState)(!1),[w,S]=(0,n.useState)(null),C=(0,n.useMemo)(()=>e.reduce((e,t)=>(e[t.date]||(e[t.date]=[]),e[t.date].push(t),e),{}),[e]),I=(0,n.useMemo)(()=>{var e;return[...null!==(e=C[g])&&void 0!==e?e:[]].sort((e,t)=>e.time<t.time?-1:1)},[C,g]),D=(0,n.useMemo)(()=>(function(e){let t=e.getFullYear(),a=e.getMonth(),s=new Date(t,a,1),n=new Date(t,a+1,0).getDate(),r=(s.getDay()+6)%7,o=[];for(let e=0;e<r;e+=1)o.push(null);for(let e=1;e<=n;e+=1)o.push(new Date(t,a,e));for(;o.length%7!=0;)o.push(null);return o})(x),[x]),A=(0,n.useMemo)(()=>r.$p.map(e=>e.title),[]),F=(0,n.useMemo)(()=>new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(x),[x]),M=(0,n.useMemo)(()=>{let e=i(g);return new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(e)},[g]),P=(0,n.useCallback)(async()=>{u(!0),p(null);try{let e=await fetch("/api/appointments",{cache:"no-store"});if(!e.ok){if(401===e.status){p(r.Io.b4),t([]);return}throw Error("load_failed")}let a=await e.json();t(a.appointments),d(Object.fromEntries(a.appointments.map(e=>[e.id,e.status])))}catch(e){p(r.Io.Hj)}finally{u(!1)}},[]);async function O(e,t){try{let a=await fetch("/api/appointments/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(!a.ok){if(401===a.status){p(r.Io.b4);return}throw Error("update_failed")}await P()}catch(e){p(r.Io.Co)}}async function T(e){try{let t=await fetch("/api/appointments/".concat(e),{method:"DELETE"});if(!t.ok){if(401===t.status){p(r.Io.b4);return}throw Error("delete_failed")}await P()}catch(e){p(r.Io.Co)}}async function U(e){if(e.preventDefault(),S(null),[v.name,v.surname,v.phone,v.date,v.time,v.service].some(e=>0===e.trim().length)){S({type:"error",text:r.Io.in});return}k(!0);try{let e=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!e.ok){if(409===e.status){S({type:"error",text:r.kF.vP});return}throw Error("manual_create_failed")}S({type:"success",text:r.Io.do}),j(o),y(v.date),f(new Date(i(v.date).getFullYear(),i(v.date).getMonth(),1)),await P()}catch(e){S({type:"error",text:r.Io.gq})}finally{k(!1)}}function q(e){var t;return(0,s.jsxs)("article",{className:"rounded-2xl border border-border bg-white p-5 shadow-soft",children:[(0,s.jsxs)("div",{className:"grid gap-3 text-sm md:grid-cols-3",children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.UU,": "]}),e.name]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.GJ,": "]}),e.surname]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.lZ,": "]}),e.phone]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.eu,": "]}),e.service]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.p6,": "]}),e.date]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.kF.OA.kB,": "]}),e.time]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r.Io.jy,": "]}),new Date(e.createdAt).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[(0,s.jsx)("label",{className:"text-sm font-semibold",htmlFor:"status-".concat(e.id),children:r.Io.Rh}),(0,s.jsxs)("select",{id:"status-".concat(e.id),value:null!==(t=a[e.id])&&void 0!==t?t:e.status,onChange:t=>d(a=>({...a,[e.id]:t.target.value})),className:"rounded-lg border border-border bg-background px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"pending",children:r.Io.bM.Ub}),(0,s.jsx)("option",{value:"confirmed",children:r.Io.bM.qF}),(0,s.jsx)("option",{value:"cancelled",children:r.Io.bM.KW})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{var t;O(e.id,null!==(t=a[e.id])&&void 0!==t?t:e.status)},className:"rounded-full border border-border px-4 py-2 text-sm font-semibold transition hover:border-accent",children:r.Io.sU}),(0,s.jsx)("button",{type:"button",onClick:()=>void T(e.id),className:"rounded-full border border-red-300 px-4 py-2 text-sm font-semibold text-red-700 transition hover:bg-red-50",children:r.Io.In})]})]},e.id)}return(0,n.useEffect)(()=>{P()},[P]),(0,s.jsxs)("section",{className:"mx-auto w-full max-w-6xl px-4 py-8 md:px-8 md:py-12",children:[(0,s.jsxs)("div",{className:"mb-6 rounded-2xl border border-border bg-white p-4 shadow-soft md:p-6",children:[(0,s.jsxs)("div",{className:"mb-4 space-y-1",children:[(0,s.jsx)("p",{className:"font-[family-name:var(--font-display)] text-2xl",children:r.Io.G4}),(0,s.jsx)("p",{className:"text-sm text-muted",children:r.Io.Y2})]}),(0,s.jsxs)("form",{className:"grid gap-3 md:grid-cols-3",onSubmit:U,children:[(0,s.jsx)("input",{value:v.name,onChange:e=>j(t=>({...t,name:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",placeholder:r.kF.OA.UU,required:!0}),(0,s.jsx)("input",{value:v.surname,onChange:e=>j(t=>({...t,surname:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",placeholder:r.kF.OA.GJ,required:!0}),(0,s.jsx)("input",{value:v.phone,onChange:e=>j(t=>({...t,phone:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",placeholder:r.kF.OA.lZ,required:!0}),(0,s.jsxs)("select",{value:v.service,onChange:e=>j(t=>({...t,service:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",required:!0,children:[(0,s.jsx)("option",{value:"",children:r.kF.z3}),A.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("input",{value:v.date,onChange:e=>j(t=>({...t,date:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",type:"date",required:!0}),(0,s.jsxs)("select",{value:v.time,onChange:e=>j(t=>({...t,time:e.target.value})),className:"rounded-xl border border-border bg-background px-3 py-2 text-sm outline-none transition focus:border-accent",required:!0,children:[(0,s.jsx)("option",{value:"",children:r.kF.bB}),r.kF.Vw.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("div",{className:"md:col-span-3",children:(0,s.jsx)("button",{type:"submit",disabled:N,className:"rounded-full border border-border px-4 py-2 text-sm font-semibold transition hover:border-accent disabled:opacity-60",children:r.Io.Hi})})]}),w&&(0,s.jsx)("p",{className:"mt-3 text-sm ".concat("success"===w.type?"text-green-700":"text-red-700"),children:w.text})]}),(0,s.jsxs)("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>h("calendar"),className:"rounded-full border px-4 py-2 text-sm font-semibold transition ".concat("calendar"===b?"border-accent text-accent":"border-border"),children:r.Io.Mh}),(0,s.jsx)("button",{type:"button",onClick:()=>h("list"),className:"rounded-full border px-4 py-2 text-sm font-semibold transition ".concat("list"===b?"border-accent text-accent":"border-border"),children:r.Io.WT})]}),(0,s.jsx)("button",{type:"button",onClick:()=>void P(),className:"rounded-full border border-border px-4 py-2 text-sm font-semibold transition hover:border-accent",children:r.Io.QQ})]}),c&&(0,s.jsx)("p",{className:"text-sm text-muted",children:r.Io.h5}),m&&(0,s.jsx)("p",{className:"mb-4 text-sm text-red-700",children:m}),!c&&0===e.length&&(0,s.jsx)("p",{className:"text-sm text-muted",children:r.Io.QR}),!c&&"calendar"===b&&e.length>0&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-border bg-white p-4 shadow-soft md:p-6",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>f(e=>new Date(e.getFullYear(),e.getMonth()-1,1)),className:"rounded-full border border-border px-3 py-1.5 text-sm font-semibold transition hover:border-accent","aria-label":r.Io.Mc,children:"<"}),(0,s.jsx)("p",{className:"font-[family-name:var(--font-display)] text-2xl",children:F}),(0,s.jsx)("button",{type:"button",onClick:()=>f(e=>new Date(e.getFullYear(),e.getMonth()+1,1)),className:"rounded-full border border-border px-3 py-1.5 text-sm font-semibold transition hover:border-accent","aria-label":r.Io.mz,children:">"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[r.Io.mx.map(e=>(0,s.jsx)("p",{className:"text-center text-xs font-semibold uppercase text-muted",children:e},e)),D.map((e,t)=>{var a,n;if(!e)return(0,s.jsx)("div",{className:"h-24 rounded-lg border border-transparent"},"empty-".concat(t));let o=l(e),i=null!==(n=null===(a=C[o])||void 0===a?void 0:a.length)&&void 0!==n?n:0,d=g===o;return(0,s.jsxs)("button",{type:"button",onClick:()=>y(o),className:"h-24 rounded-lg border p-2 text-left transition ".concat(d?"border-accent bg-surface":"border-border hover:border-accent/70"),children:[(0,s.jsx)("p",{className:"text-xs font-semibold",children:e.getDate()}),(0,s.jsxs)("p",{className:"mt-2 text-xs text-muted",children:[i," ",r.Io.jd]})]},o)})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold",children:[r.Io.kO,": ",(0,s.jsx)("span",{className:"font-normal",children:M})]}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:r.Io.ay}),0===I.length?(0,s.jsx)("p",{className:"text-sm text-muted",children:r.Io.Bt}):(0,s.jsx)("div",{className:"space-y-4",children:I.map(e=>q(e))})]})]}),!c&&"list"===b&&e.length>0&&(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>q(e))})]})}},3042:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(5155),n=a(2115),r=a(6046),o=a(5646);function l(){let e=(0,r.useRouter)(),[t,a]=(0,n.useState)(""),[l,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null);async function u(a){a.preventDefault(),i(!0),c(null);try{if(!(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})})).ok){c(o.Qk.gJ);return}e.refresh()}catch(e){c(o.Qk.gJ)}finally{i(!1)}}return(0,s.jsx)("section",{className:"mx-auto w-full max-w-md px-4 py-10 md:px-8",children:(0,s.jsxs)("div",{className:"rounded-3xl border border-border bg-white p-6 shadow-soft md:p-8",children:[(0,s.jsxs)("div",{className:"mb-5 space-y-2",children:[(0,s.jsx)("h2",{className:"font-[family-name:var(--font-display)] text-3xl",children:o.Qk.DD}),(0,s.jsx)("p",{className:"text-sm text-muted",children:o.Qk.VA})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:u,children:[(0,s.jsxs)("label",{className:"text-sm",children:[(0,s.jsx)("span",{className:"mb-2 block font-semibold",children:o.Qk.UE}),(0,s.jsx)("input",{type:"password",value:t,onChange:e=>a(e.target.value),placeholder:o.Qk.bH,className:"w-full rounded-xl border border-border bg-background px-4 py-3 outline-none transition focus:border-accent",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:l,className:"rounded-full bg-foreground px-5 py-2 text-sm font-semibold text-white transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:o.Qk.xq})]}),d&&(0,s.jsx)("p",{className:"mt-4 text-sm text-red-700",children:d})]})})}},339:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(5155),n=a(6046),r=a(5646);function o(){let e=(0,n.useRouter)();async function t(){await fetch("/api/admin/logout",{method:"POST"}),e.refresh()}return(0,s.jsx)("button",{type:"button",onClick:()=>void t(),className:"rounded-full border border-border px-4 py-2 text-sm font-semibold transition hover:border-accent",children:r.Qk.zy})}},6046:(e,t,a)=>{"use strict";var s=a(6658);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},5646:e=>{"use strict";e.exports=JSON.parse('{"wk":{"UU":"Artemis Beauty Salon","dS":"Luxury beauty and wellness experience","wm":"/logo/logo.png"},"Lg":{"Y":"Main navigation","M":[{"name":"Home","href":"/"},{"name":"About","href":"/about"},{"name":"Services","href":"/services"},{"name":"Products","href":"/products"},{"name":"Contact","href":"/contact"}]},"$p":[{"title":"Nail Services","description":"Luxury manicures and pedicures with premium care products.","image":"/images/service-nails.png"},{"title":"Face & BodyTreatment","description":"Advanced face and body treatments tailored for glowing, healthy skin.","image":"/images/service-skin.png"},{"title":"Professional Makeup","description":"Professional makeup services for events, bridal looks, and special occasions.","image":"/images/service-makeup.png"},{"title":"Hair Removal","description":"Smooth, precise hair removal services with client comfort in focus.","image":"/images/service-hair.png"}],"kF":{"DD":"Schedule Your Appointment","VA":"Fill in your details and we will reserve your beauty session.","OA":{"UU":"Name","GJ":"Surname","lZ":"Phone","p6":"Date","kB":"Time","eu":"Service"},"xq":"Confirm Appointment","Jl":"Appointment request sent successfully.","gJ":"Could not send appointment request. Please try again.","cJ":"Please complete all fields.","z3":"Select a service","bB":"Select time","m0":"Availability for selected date","C8":"Open","yu":"Booked","yn":"Select a date to view open and booked time slots.","vP":"Selected date and time is already booked. Please choose another slot.","Vw":["09:00","10:00","11:00","12:00","15:00","16:00","17:00","18:00"]},"IA":{"DD":"Stay In The Artemis Circle","yI":"Enter your email address","xq":"Subscribe","Jl":"Thank you for subscribing.","gJ":"Subscription failed. Please try again.","Xk":"Please enter a valid email address."},"Io":{"G4":"Add Appointment Manually","Y2":"Create bookings for walk-ins, phone calls, or messages.","Hi":"Add Appointment","do":"Appointment added successfully.","gq":"Could not add appointment.","in":"Please complete all manual appointment fields.","Mh":"Calendar View","WT":"List View","Mc":"Previous Month","mz":"Next Month","kO":"Selected Date","ay":"Appointments For Date","Bt":"No appointments on this date.","jd":"appointments","mx":["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"Rh":"Status","jy":"Created","bM":{"Ub":"Pending","qF":"Confirmed","KW":"Cancelled"},"sU":"Update","In":"Delete","QQ":"Refresh","h5":"Loading appointments...","QR":"No appointments yet.","Hj":"Could not load appointments.","Co":"Could not update appointment.","b4":"Unauthorized access. Please login to admin."},"Qk":{"DD":"Admin Access","VA":"Enter the admin password to manage appointments.","UE":"Password","bH":"Enter admin password","xq":"Login","zy":"Logout","gJ":"Invalid password. Please try again."}}')}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(321)),_N_E=e.O()}]);